---
interface Props {
	title: string;
	link: string;
	pubDate: string;
	excerpt: string;
	slug: string;
	image?: string;
}

const {title, link, pubDate, excerpt, slug, image} = Astro.props;

// Format the date
const date = new Date(pubDate);
const formattedDate = date.toLocaleDateString("en-US", {
	year: "numeric",
	month: "long",
	day: "numeric",
});
---

<article class='flex flex-col h-full bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300'>
	{
		image && (
			<div class='aspect-video overflow-hidden rounded-t-lg'>
				<img src={image} alt={title} class='w-full h-full object-cover hover:scale-105 transition-transform duration-300' />
			</div>
		)
	}
	<div class='p-6 flex flex-col flex-grow'>
		<h2 class='text-xl font-bold mb-2'>
			<a href={`/blog/${slug}`} class='text-blue-600 hover:text-blue-800'>
				{title}
			</a>
		</h2>
		<p class='text-gray-600 text-sm mb-4'>{formattedDate}</p>
		<div class='prose prose-sm max-w-none mb-4 flex-grow'>
			<p>{excerpt}</p>
		</div>
		<div class='flex gap-4 mt-auto pt-4 border-t border-gray-100'>
			<a href={`/blog/${slug}`} class='text-sm text-blue-600 hover:text-blue-800'> Read full post → </a>
			<a href={link} target='_blank' rel='noopener noreferrer' class='text-sm text-gray-600 hover:text-gray-800'> View on Substack ↗ </a>
		</div>
	</div>
</article>
